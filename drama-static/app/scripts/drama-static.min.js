/*! drama-static - v1.0.0 - 2018-11-27
* https://github.com/cutePlay/drama-static#readme
* Copyright (c) 2018 ; Licensed  */

"use strict";var dramaStaticApp=angular.module("dramaStaticApp",["ngRoute","ngResource"]);dramaStaticApp.constant("baseUrl",{api:"http://localhost:8088",img:"http://localhost:8088"}),dramaStaticApp.config(function(t,r){t.hashPrefix("!"),r.when("/",{templateUrl:"templates/index.html"}).when("/dramas",{templateUrl:"templates/drama/list.html"}).when("/dramas/:id",{templateUrl:"templates/drama/item.html"}).otherwise({redirectTo:"/"})}),dramaStaticApp.controller("DramaItemCtrl",["DramaService","$scope","$routeParams",function(t,r,a){t.get(a,function(t){r.drama=t}),t.get({url:"roles",id:a.id},{},function(t){console.info(t)}),r.showBrief=function(){console.info("brief")}}]),dramaStaticApp.controller("DramaListCtrl",["DramaService","$scope","$routeParams",function(t,r,a){console.info(a),t.get(a,function(t){r.dramas=t.records,console.info(r.dramas)})}]),dramaStaticApp.controller("IndexCtrl",[function(){console.info("test index ok")}]),dramaStaticApp.directive("embedSrc",function(){return{restrict:"A",link:function(t,r,a){var e=r;t.$watch(function(){return a.embedSrc},function(){var t=r.clone().attr("src",a.embedSrc);e.replaceWith(t),e=t})}}}),dramaStaticApp.filter("baseImg",function(r){return function(t){return t&&!t.startsWith("/")?r.img+"/"+t:r.img+t}}),dramaStaticApp.service("DramaService",["baseUrl","$resource",function(t,r){return r(t.api+"/api/dramas/:id/:url",{id:"@id",url:"@url"})}]);